# shell 脚本的构成

shell 脚本只有以下内容元素：

- shebang
- 命令
- keyword（例如 if、function）
- 变量
- 符号
- 字符串
- 注释


# shell 命令的基本概念

命令的基本单位是“行”

一行命令的基本结构是：command + [options]

第一个词汇，一定是命令

命令只有以下四种类型：

- 可执行程序
  - 直接指向某个文件：绝对路径 / 相对路径
  - 一个单词，系统自动添加 path 后组成绝对路径
- shell 内置命令（builtins）
- shell 函数（function）
- alias


# 字符展开

默认情况下，shell 会将命令以外的字符，一律解析为字符串。只有当遇到特殊符号或关键字，才会改用特定的解析规则

遇到特殊符号时，先解析或计算出表达式的结果，再代入原脚本，这个过程称为展开（Expansion）

### 路径名展开

只要单词内包含通配符，则展开为一组文件名

与路径名展开相关的通配符：

- * 任意数量的任意字符
- ? 任意一个字符（不能是零个）
- [characters] 字符集中的任意一个字符（不能是零个）
- [!characters] 不属于字符集中的任意一个字符（不能是零个）
- [:class:] 特定字符集中的任意一个字符（不能是零个）

> 如果路径展开失败，表达式将被视为字符串

> ~ 自动展开为家目录路径


### 算数表达式展开

`$((expression))`


### 花括号展开

用于生成多个字符串

- 数字序列：`{1..9}`
- 字母序列：`{a..f}`
- 字符组合：`{1,a,2,b}`

支持嵌套


### 内置变量

又称参数展开

例如：`$PATH`

查看所有内置变量：`printenv | less`


### 命令代换

`$(command)` 或 ``command``
